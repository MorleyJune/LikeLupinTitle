# LikeLupinTitle
表示文字列を打つだけで, ルパン三世のタイトル風の演出ができる exo ファイルを出力する .py  
  
# なぜこんなものを作ったか  
　端的に言えば,「ルパン三世のタイトル風の演出を動画で表現したかったから」. AviUtl の金の髭氏スクリプトの「ルパン」は, 文字を適切に出してくれるが, 音声ファイルまできちんと入れてくれない. そのため, 各文字のタイプライター音のファイルをタイミングよく挿入することが求められる. しかしこれは面倒である.

　そこで, それらをきちんと入れた exo ファイルを生成することはできないかと考えた. 純粋にタイプライター音をタイミングに合わせて入れるのが手間なのと, 文字サイズを大きくしたときに AviUtl が重くなるのでうまく入れられないという辛さを克服するためにこんなものを作った.  

（追記）  
　今は LuaJIT のおかげで, ユーザ入力を受け付けてくれるようになり, 文字サイズ 1000 といった大きい文字でもさほど問題なく動作するようになっている.
あとは, 発光エフェクト等をかける順番さえ気を付ければ問題なくタイミング合わせができるということも分かった.  
　また, 長さの設定でタイミングの時間と合わせてから「グループ化」→「コピーペースト」→「グループ解除＆グループ化」→・・・とやればかなりの早さで生成できる.  
このソフトは成仏ということで.

# PandaNoteさんのpythonスクリプトとの出会い  
　ネットを漁ってみると, [PandaNoteさんのスクリプト](https://pandanote.info/?p=2422) に当たった. このスクリプトは, 表示文字列を入力したら, 適切なタイミングで文字オブジェクトを置くよう割り当てられた exo ソースがコンソール上に出力されるという仕組みだった. これは面白いと思ったので, exo ファイルを解読してみた. 意外に行けないことはなさそうだと思ったので, 以下の改善を行うような python スクリプトを作ることに決めた.  
- 指定した音声ファイルを適切なタイミングで挿入するようにする  
- exo ファイルのソースをコンソール上に出力するのではなく, exo ファイルを生成するようにする  
- コンソール上の入力「\n」で改行できるようにする  
  
これによって, 生成された exo ファイルを AviUtl 上のタイムラインに投げてエンコードするだけで, ルパン三世タイトル風演出の動画 .mp4 が生成できる.  
# 必要な素材  
大前提として,  
- [AviUtl](http://spring-fragrance.mints.ne.jp/aviutl/)  
- AviUtl拡張編集プラグイン( 上と同サイト )  
  
が必要で, そのうえで  
  
- [金の髭氏のルパンタイトル風スクリプト](https://aviutlscript.wiki.fc2.com/wiki/%E3%82%A2%E3%83%8B%E3%83%A1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E5%8A%B9%E6%9E%9C%EF%BC%91)をAviUtl の script フォルダに ルパン.anm として保存する  
- フリーフォント「 [幻ノにじみ明朝](http://www.fontna.com/blog/1912/) 」を導入する  
- 効果音ラボ様の[タイプライター音](https://soundeffect-lab.info/sound/anime/)( 各文字表示時の音 )  
- ニコニ・コモンズ様の[演出音](http://commons.nicovideo.jp/material/nc105836)( 全文字表示時の音 )  
  
これらをダウンロードすることが要求される.  
  
# 使用法
Anaconda Prompt における実行例は以下のような感じ.  
  
```
python lupinLike.py 適当な\n文字
```
  
すると, lupin.exo が生成されるので, それを AviUtl のタイムラインに投げてエンコードする.  
 test.mp4 はそのできあがった動画ファイルである.  
  
一体誰の役に立つのだろうか. だがまあ共有しておくのも悪くない.  
